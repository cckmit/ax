!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("axios"),require("ts-md5"),require("js-cookie"),require("vue-property-decorator"),require("vuex-module-decorators"),require("vuex"),require("vue")):"function"==typeof define&&define.amd?define(["exports","axios","ts-md5","js-cookie","vue-property-decorator","vuex-module-decorators","vuex","vue"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).AxFramework={},e.axios,e.tsMd5,e.Cookies,e.vuePropertyDecorator,e.vuexModuleDecorators,e.Vuex,e.Vue)}(this,(function(e,t,n,r,o,i,s,a){"use strict";function u(e){return e&&"object"==typeof e&&"default"in e?e:{default:e}}var c,l,f,h,p,d,g,m=u(t),v=u(r),y=u(s),S=u(a),E=function(e){var t;this.host=e.host;var n=null===(t=window.GLOBAL_CONFIG)||void 0===t?void 0:t.host;n&&Object.assign(this.host,n)},w=Object.freeze({__proto__:null,HttpConfig:E});!function(e){e.CLOSE="close",e.ERROR="error",e.INVALID="invalid",e.OPEN="open"}(c||(c={})),function(e){e.SESSION="session",e.USER_STATE="session"}(l||(l={})),function(e){e.LAST_LOGIN="last-login",e.SETTING="settings"}(f||(f={})),function(e){e.ADMIN_ID="00000000000000000000000000000000",e.ROLE_ID="00000000000000000000000000000000",e.ORGANIZATION_ID="00000000000000000000000000000000"}(h||(h={})),function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.OK=1]="OK",e[e.FAILED=2]="FAILED",e[e.EXCEPTION=3]="EXCEPTION",e[e.TIMEOUT=4]="TIMEOUT",e[e.INVALID=5]="INVALID",e[e.RUNTIME=6]="RUNTIME",e[e.PROGRAMMING=7]="PROGRAMMING"}(p||(p={})),function(e){e[e.REDIRECT=0]="REDIRECT",e[e.EMPTY=1]="EMPTY"}(d||(d={})),function(e){e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.LOGIN_ERROR=498]="LOGIN_ERROR",e[e.LOGIN_FAILED=499]="LOGIN_FAILED"}(g||(g={}));var T,x,b,L,A=Object.freeze({__proto__:null,get EWSType(){return c},get ESessionKey(){return l},get ELocalKey(){return f},get EAdminConstType(){return h},get ResultCode(){return p},get ErrorCode(){return d},get HttpCode(){return g}}),O=function(){function e(){}return e.formatString=function(e,t){if(null==e||0===e.length)return"";if(t&&t.length>0)for(var n=0;n<t.length;n++){var r=t[n],o=r instanceof Object||r instanceof Array?JSON.stringify(r):r+"";e=e.replace(new RegExp("\\{"+n+"\\}","img"),o)}return e},e.duplicate=function(e,t,n){void 0===n&&(n=""),n||(n="");for(var r=[],o=0;o<t;o++)r[o]=e;return r.join(n).toString()},e.compareSort=function(t,n){return"number"==typeof t&&"number"==typeof n?t===n?0:t<n?-1:1:t?n?(t?t+="":t="",n?n+="":n="",t===n?0:(t=t.replace(/(\d+)/gm,(function(t){return e.duplicate("0",10-t.length)+t})),n=n.replace(/(\d+)/gm,(function(t){return e.duplicate("0",10-t.length)+t})),t.localeCompare(n))):t?1:0:n?-1:0},e.getBytesLength=function(e){if(!e)return 0;for(var t=0,n=0,r=e.length;n<r;n++)t+=e.charCodeAt(n)>255?2:1;return t},e.fixRegExpString=function(e){return e&&0!==e.length?e.replace(/([\$\(\)\[\]\{\}\*\+\-\?\\\^\|\.\\])/gm,(function(e){return"\\"+e})):e},e.queryStringify=function(e,t){return void 0===t&&(t=!1),(t?"?":"")+Object.keys(e).map((function(t){return t+"="+(e[t]+="").replace(/%/g,"%25").replace(/\+/g,"%2B").replace(/ /g,"%20").replace(/\//g,"%2F").replace(/\?/g,"%3F").replace(/\?/g,"%3F").replace(/&/g,"%26").replace(/\=/g,"%3D").replace(/#/g,"%23")})).join("&")},e}(),I=function(){function e(e,t,n,r){void 0===r&&(r=!1),this.cancelable=!1,this.stopped=!1,this.prevented=!1,this.mtarget=e,this.mtype=t,this.data=n,this.cancelable=r}return Object.defineProperty(e.prototype,"target",{get:function(){return this.mtarget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"type",{get:function(){return this.mtype},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStopped",{get:function(){return this.stopped},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPrevented",{get:function(){return this.prevented},enumerable:!1,configurable:!0}),e.prototype.stopPropagation=function(){this.stopped=!0},e.prototype.preventDefault=function(){this.cancelable&&!this.prevented&&(this.prevented=!0)},e}(),N=function(){function e(){this.listeners=new Map}return e.prototype.on=function(e,t,n){if(void 0===n&&(n=0),!e||!t)return this;var r=this.listeners.get(e);return r||(r=[],this.listeners.set(e,r)),n||(n=0),r.push({p:n,l:t}),0!==n&&r.sort((function(e,t){return O.compareSort(e.p,t.p)})),this},e.prototype.remove=function(e,t){if(t){var n=this.listeners.get(e);if(!n)return!1;for(var r=!1,o=0,i=n.length;o<i;o++)if(n[o].l===t){n.splice(o,1),r=!0;break}return!!r&&(0===n.length&&this.listeners.delete(e),!0)}return null!==this.listeners.delete(e)},e.prototype.has=function(e,t){var n=this.listeners.get(e);if(!n)return!1;if(t){for(var r=0,o=n.length;r<o;r++)if(n[r].l===t)return!0;return!1}return!0},e.prototype.hasType=function(e){if(!e)return this.listeners.size>0;var t=this.listeners.get(e);return void 0!==t&&t.length>0},e.prototype.trigger=function(e){if(e&&0!==this.listeners.size){var t=this.listeners.get(e.type);if(t)for(var n=0,r=t.length;n<r;n++){var o=t[n].l;if("function"==typeof o?o(e):o.onEvent&&o.onEvent(e),e.isStopped)return}}},e}(),R=function(){function e(e){this.name=e.name,this.dispatcher=new N}return e.prototype.emit=function(e){this.emitDispatcher?this.emitDispatcher.trigger(e):console.error("[app-core-framework]: ","没有设置主系统的事件分发器")},e.prototype.setDispatcher=function(e){this.emitDispatcher=e},e}(),_=function(){function e(){}return e.getModule=function(e){var t=this.moduleList.get(e);return t||((t=new R({name:e})).setDispatcher(this.dispatcher),this.moduleList.set(e,t)),t},e.registerModule=function(e){e.setDispatcher(this.dispatcher)},e.broadcast=function(e,t){var n=this;t?t.forEach((function(t){var r=n.moduleList.get(t);r&&r.dispatcher.trigger(e)})):Array.from(this.moduleList.values()).forEach((function(t){t.dispatcher.trigger(e)}))},e.dispatcher=new N,e.moduleList=new Map([]),e}(),D=Object.freeze({__proto__:null,SystemCenter:_,SystemModule:R}),M=function(){function e(e,t,n){void 0===t&&(t=null),void 0===n&&(n={}),this.url=e,this.lockReconnect=!1,this.dispatcher=new N,this.params=t,this.showLog=!!n.showLog,this.autoReconnect=void 0===n.autoReconnect?3e3:n.autoReconnect,this.options=n,n.transform&&(this.msgTransform=n.transform),n.autoConnect&&this.connect()}return e.prototype.msgTransform=function(e){try{return JSON.parse(e)}catch(t){return this.log("数据格式有误："+e),null}},e.prototype.log=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.showLog&&console.log.apply(console,e)},e.prototype.getWebsocket=function(){return this.websocket},e.prototype.send=function(e){this.websocket?this.websocket.send(e):this.log("websocket服务未启动")},e.prototype.on=function(e,t,n){return void 0===n&&(n=0),null!=e&&void 0!==e&&null!=t&&void 0!==t&&this.dispatcher.on(e,t,n),this},e.prototype.remove=function(e,t){return null!=e&&void 0!==e&&null!=t&&void 0!==t&&this.dispatcher.remove(e,t),this},e.prototype.initEventHandle=function(){var e=this;this.websocket?(this.websocket.onopen=function(t){e.log("WebSocket 连接成功: ",t),e.dispatcher.trigger(new I(t.target,c.OPEN,t))},this.websocket.onerror=function(t){e.log("WebSocket 连接发生错误: ",t),e.dispatcher.trigger(new I(t.target,c.ERROR,t))},this.websocket.onmessage=function(t){e.log("WebSocket 收到消息: ",t);var n=e.msgTransform(t.data);n?e.dispatcher.trigger(new I(t.target,n.code,n.data)):e.dispatcher.trigger(new I(t.target,c.INVALID,t))},this.websocket.onclose=function(t){e.log("WebSocket 连接关闭: ",t),e.dispatcher.trigger(new I(t.target,c.CLOSE,t)),e.reconnect()}):this.log("WebSocket 服务未启动")},e.prototype.connect=function(){try{if(!("WebSocket"in window))return void alert("浏览器版本过低，请升级您的浏览器");this.websocket=new WebSocket(this.url+(this.params?O.queryStringify(this.params,!0):""),this.options.protocols),this.initEventHandle()}catch(e){this.reconnect()}},e.prototype.reconnect=function(){var e=this;this.lockReconnect||(this.lockReconnect=!0,setTimeout((function(){e.connect(),e.log("WebSocket 正在重连，当前时间 "+new Date),e.lockReconnect=!1}),this.autoReconnect))},e}(),C=Object.freeze({__proto__:null}),k=function(){function e(e){this.target=e}return e.prototype.t=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(!P.locales)return console.error("国际化文件还未读取完成或没有读取到文件"),e;var r=null,o=this.target.split(P.splitSymbol);if(!o.length)return console.error("国际化文件还中没有读取到["+this.target+"]对应的内容"),e;if(1===o.length)r=P.locales[this.target];else{r=P.locales[o[0]];for(var i=1;i<o.length;i++)r=r[o[i]]}if(!r)return console.error("国际化文件还中没有读取到["+this.target+"]对应的内容"),e;var s=r[e];return s||""===s?O.formatString(s,t):e},e}(),P=function(){function e(){}return e.getModuleKey=function(t){return""+t.app+e.splitSymbol+t.module},e.create=function(e){return new k(e)},e.setLocales=function(t,n){void 0===n&&(n=!1),e.locales=t,e.reduce=n},e.setSplitSymbol=function(t){e.splitSymbol=t},e.splitSymbol="$",e.reduce=!1,e}();!function(e){e.SYSTEM_LOGIN_PAGE="5",e.SYSTEM_HOME_PAGE="6",e.MENU_NAVIGATION_PAGE="3",e.NAV_LAYOUT_GROUP="4",e.NAV_CATEGORY_GROUP="8",e.APPLICATION_SYSTEM_PAGE="1",e.DATA_VISUALIZATION_PAGE="2",e.CUSTOM_PAGE="7"}(T||(T={})),function(e){e.CARD="card",e.TOP="top",e.LEFT="left",e.TREE="tree"}(x||(x={})),function(e){e.DEFAULT="default",e.ASSIGN="assign"}(b||(b={})),function(e){e.LEFT_TOP="left_top",e.RIGHT_BOTTOM="right_bottom"}(L||(L={}));var U=Object.freeze({__proto__:null,get MenuType(){return T},get MenuNavType(){return x},get MenuGroupType(){return b},get MenuLayoutType(){return L}}),W=function(){function e(e){this.config=Object.assign({timeout:12e4,withCredentials:!0,headers:{"Content-Type":"application/json;charset=UTF-8"}},e),this.service=m.default.create(this.config),this.service.interceptors.request.use((function(e){if(e.data){var t=e.data,n=t.params,r=t.data,o=t.options,i=t.requestConfig;if(o.lang&&(e.headers["Accept-Language"]=o.lang),o.token&&(e.headers["AX-Token"]=o.token),o.headers)for(var s in o.headers)e.headers[s]=o.headers[s];n&&(e.params=n),r&&(e.data=r),i&&(e=Object.assign(e,i))}return e}),(function(e){return Promise.reject(e)})),this.service.interceptors.response.use((function(e){if(e.data){var t=e.data;return t?t.code!==p.OK?Promise.reject(t):t.data:Promise.reject({errorCode:d.EMPTY})}return e.data}),(function(t){return t.response&&(t.response.status===g.UNAUTHORIZED||t.response.status===g.LOGIN_ERROR||t.response.status===g.LOGIN_FAILED)&&e.redirect?(e.redirect(t.response),Promise.reject({errorCode:d.REDIRECT})):Promise.reject(t)}))}return e.prototype.http=function(e,t,n,r,o,i){var s=this;return void 0===o&&(o={}),void 0===i&&(i={}),new Promise((function(a,u){s.service({url:t,method:e,data:{params:n,data:r,options:o,requestConfig:i}}).then((function(e){a(e)}),(function(e){u(e)}))}))},e}(),G=function(){function e(){}return e.getDefaultLanguageKey=function(){var e=window.navigator.language?window.navigator.language:window.navigator.browserLanguage;if(e&&0!==e.length){var t=(e=e.replace("-","_")).indexOf("_");-1!==t&&(e=e.substring(0,t)+e.substring(t).toUpperCase()),"zh"===e&&(e="zh_CN"),"en"===e&&(e="en_US")}else e="en_US";return e},e}(),F=function(){function e(){}var t,n,r;return e.getDefaultLanguageKey=function(){var e=window.navigator.language?window.navigator.language:window.navigator.browserLanguage;if(e&&0!==e.length){var t=(e=e.replace("-","_")).indexOf("_");-1!==t&&(e=e.substring(0,t)+e.substring(t).toUpperCase()),"zh"===e&&(e="zh_CN"),"en"===e&&(e="en_US")}else e="en_US";return e},e.addDomEventListener=function(e,t,n){if(!e||!t||!n)return!1;var r=e;t instanceof Array||(t=t.split(","));for(var o=0,i=t.length;o<i;o++){var s=t[o];s&&0!==s.length&&(s=s.trim().toLowerCase(),r.addEventListener?(0===s.indexOf("on")&&(s=s.substr(2)),r.addEventListener(s,n,!1)):r.attachEvent&&(0!==s.indexOf("on")&&(s="on"+s),r.attachEvent(s,n)))}return!0},e.removeDomEventListener=function(e,t,n){if(!e||!t||!n)return!1;var r=e;t instanceof Array||(t=t.split(","));for(var o=0,i=t.length;o<i;o++){var s=t[o];s&&0!==s.length&&(s=s.trim().toLowerCase(),r.removeEventListener?(0===s.indexOf("on")&&(s=s.substr(2)),r.removeEventListener(s,n,!1)):r.detachEvent&&(0!==s.indexOf("on")&&(s="on"+s),r.detachEvent(s,n)))}return!0},e.dispatchDomEvent=function(e,t,n){if(!e||!t||0===t.length)return!1;for(var r=e,o=0,i=t.length;o<i;o++){var s=t[o];s&&0!==s.length&&(s=s.toLowerCase(),r.fireEvent?(0!==s.indexOf("on")&&(s="on"+s),n||(n=document.createEventObject()),r.fireEvent(s,n)):document.createEvent&&(0===s.indexOf("on")&&(s=s.substr(2)),n||(n=document.createEvent(s.indexOf("click")>=0||s.indexOf("mouse")>=0?"MouseEvents":"HTMLEvents")),n.initEvent(s,!0,!0),e.dispatchEvent(n)))}return!0},e.getDomEventTarget=function(e){var t=e||window.event;return t?t.target?t.target:t.srcElement:null},e.getDomEventKeyCode=function(e){var t=e||window.event;if(t){var n=t.keyCode||t.which;return n&&!isNaN(n)||(n=0),n}return 0},e.keyCodeToString=function(e,t){void 0===t&&(t=!1);var n,r=e||window.event,o=r.keyCode||r.which,i=r.shiftKey;if(o>=65&&o<=90)return n=String.fromCharCode(o),i?n.toUpperCase():n.toLowerCase();if(o>=48&&o<=57)return i?[")","!","@","#","$","%","^","&","*","("][o-48]:String.fromCharCode(o);var s=this.BROWSER.opera?[48,49,50,51,52,53,54,55,56,57,78,47,42,45,43]:[96,97,98,99,100,101,102,103,104,105,110,111,106,109,107],a=s.indexOf(o);return-1!==a?["0","1","2","3","4","5","6","7","8","9",".","/","*","-","+"][a]:-1!==(a=(s=this.BROWSER.ie||this.BROWSER.chrome?[192,189,187,219,221,186,222,220,188,190,191]:this.BROWSER.opera?[96,45,61,91,93,59,39,92,44,46,47]:[192,109,61,219,221,59,222,220,188,190,191]).indexOf(o))?(i?["~","_","+","{","}",":",'"',"|","<",">","?"]:["`","-","=","[","]",";","'","\\",",",".","/"])[a]:t&&-1!==(a=(s=[27,9,20,16,17,18,32,91,92,93,8,13,45,36,33,46,35,34,38,37,40,39,144,112,113,114,115,116,117,118,119,120,121,122,123,145,19]).indexOf(o))?["Esc","Tab","Caps Lock","Shift","Ctrl","Alt","Space","Win","Win","Menu","Back Space","Enter","Insert","Home","Page Up","Delete","End","Page Down","Up","Left","Down","Right","Num Lock","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","Scroll Lock","Pause Break"][a]:void 0},e.cancelDomEvent=function(e,t){void 0===t&&(t=!0);var n=e||window.event;return!!n&&(n.returnValue=!1,n.wheelDelta=0,n.preventDefault&&n.preventDefault(),t&&(n.cancelBubble=!0,n.stopPropagation&&n.stopPropagation()),!1)},e.cancelDomEventBubble=function(e){var t=e||window.event;return t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0),!0},e.cancelDomWheelBubble=function(e,t){var n=e||window.event;if(!n)return!1;var r=n.detail?n.detail:n.wheelDelta?-1*n.wheelDelta:0;if(this.BROWSER.firefox&&(r*=30),isNaN(r)&&(r=0),0===r)return!1;var o=t;o||(o=n.target||n.srcElement);var i=o.scrollTop+r;return i<0&&(i=0),i>o.scrollHeight&&(i=o.scrollHeight),o.scrollTop!==i&&window.setTimeout((function(){o.scrollTop=i}),10),this.cancelDomEvent(e)},e.isDomControlKey=function(e){return-1!==(this.BROWSER.opera?[8,9,13,16,17,18,20,27,33,34,35,36,37,38,40,144]:[8,9,13,16,17,18,20,27,33,34,35,36,37,38,40,144,45,46,91,93,39,92]).indexOf(e)},e.getDomStyle=function(e,t,n){if(!e||!t)return n;var r=null;if(document.defaultView&&"function"==typeof document.defaultView.getComputedStyle){r=document.defaultView.getComputedStyle(e,null)[t]}else{var o=e;r=o.currentStyle?o.currentStyle[t]:null}return r&&r.length>0?r:n},e.getDomPosition=function(e,t){if(!e)return{left:0,top:0};var n,r,o=0,i=0,s=e;do{if(t&&t===s)break;s!==e&&(o-=s.scrollLeft?s.scrollLeft:0,i-=s.scrollTop?s.scrollTop:0),o+=s.offsetLeft,i+=s.offsetTop,s!==e&&"absolute"!==this.getDomStyle(s,"position","")&&("0px"!==(n=this.getDomStyle(s,"border-top-width","0px"))&&(i+=parseInt(n,10)),"0px"!==(r=this.getDomStyle(s,"border-left-width","0px"))&&(o+=parseInt(r,10))),s=s.offsetParent}while(s);return{left:o,top:i}},e.isDomWindow=function(e){if(!e)return!1;var t=/Window|global/.test({}.toString.call(e)),n=e===e.document&&e.document!==e;return t||n},e.isDomDocument=function(e){return!!e&&!(!e.createElement||!e.documentElement)},e.getDomScroll=function(e){if(!e)return{width:0,height:0,left:0,top:0};var t=0,n=0,r=0,o=0;if(this.isDomWindow(e)){var i=void 0,s=e;s.innerWidth&&(r=s.innerWidth+(s.scrollMaxX?s.scrollMaxX:0)),s.innerHeight&&(o=s.innerHeight+(s.scrollMaxY?s.scrollMaxY:0)),(i=s.document.documentElement)&&"number"==typeof i.scrollTop&&(t=i.scrollTop,n=i.scrollLeft,r=Math.max(r,i.scrollWidth),o=Math.max(o,i.scrollHeight)),(i=s.document.body)&&(t=Math.max(t,i.scrollTop),n=Math.max(n,i.scrollLeft),r=Math.max(i.scrollWidth),o=Math.max(i.scrollHeight))}else{var a=e;t=a.scrollTop,n=a.scrollLeft,r=a.scrollWidth,o=a.scrollHeight}return{width:Math.max(0,r),height:Math.max(0,o),left:Math.max(0,n),top:Math.max(0,t)}},e.getWindowSize=function(e){e||(e=window);var t=0,n=0,r=e.document.documentElement;if(r&&(r.clientHeight||r.offsetHeight)&&(n=Math.min(r.clientHeight,r.offsetHeight)),e.innerHeight&&(n=n>0?Math.min(n,e.innerHeight):e.innerHeight),r&&(r.clientWidth||r.offsetWidth)&&(t=Math.min(r.clientWidth,r.offsetWidth)),e.innerWidth&&(t=t>0?Math.min(t,e.innerWidth):e.innerWidth),0===t||0===n){var o=this.getDomScroll(e);0===t&&(t=o.width),0===n&&(n=o.height)}return{width:Math.max(0,t),height:Math.max(0,n)}},e.getDocumentSize=function(e){var t,n=0,r=0;e||(e=window);var o=e,i=e.document;e.innerHeight&&(r=e.innerHeight+(o.scrollMaxY?o.scrollMaxY:0)),(t=i.documentElement)&&t.clientHeight&&(r=Math.max(r,t.clientHeight)),(t=i.body)&&(r=Math.max(r,t.clientHeight)),e.innerWidth&&(n=e.innerWidth+(o.scrollMaxX?o.scrollMaxX:0)),(t=i.documentElement)&&t.clientWidth&&(n=Math.max(n,t.clientWidth)),(t=i.body)&&(n=Math.max(n,t.clientWidth));var s=this.getDomScroll(e);return n=Math.max(n,s.width),r=Math.max(r,s.height),{width:Math.max(0,n),height:Math.max(0,r)}},e.getDomEventWheel=function(e){var t=e||window.event;if(t){var n=parseInt(t.detail?t.detail:t.wheelDelta?-1*t.wheelDelta:0,10);return this.BROWSER.firefox&&(n*=30),isNaN(n)&&(n=0),n}return 0},e.getDomParent=function(e,t,n,r,o,i,s,a,u){if(void 0===a&&(a=0),e&&e.parentNode){var c=0,l=e;o&&(o=o.toUpperCase());do{if(a>0){if(c>a)break;c++}if(u&&u===l)break;if((!t||l.id===t)&&!(n&&l.getAttribute("name")!==n||r&&l.className!==r)){if(o){var f=l.tagName;if(f&&(f=f.toUpperCase()),f!==o)continue}if(i){var h=l.getAttribute(i);if(!0===s){if(!h)continue}else if(!1===s){if(h)continue}else if(h!==s)continue}return l}}while(l===l.parentNode)}},e.isEllipsis=function(e){var t=e.cloneNode();t.style.width=e.offsetWidth+"px",t.style.height=e.offsetHeight+"px",t.style.overflow="auto",t.style.position="absolute",t.style.zIndex="-1",t.style.opacity=" 0",t.style.whiteSpace="nowrap",t.innerHTML=e.innerHTML;var n=e.parentNode;if(null===n)return!1;n.appendChild(t);var r=t.scrollWidth>t.offsetWidth;return n.removeChild(t),r},e.BROWSER=(n=window.navigator.userAgent.toLowerCase(),r={ie:0,firefox:0,chrome:0,opera:0,safari:0},(t=n.match(/msie\s([\d.]+)/))&&t.length>1&&(r.ie=parseFloat(t[1])),(t=n.match(/trident.*rv:([\d.]+)/))&&t.length>1&&(r.ie=parseFloat(t[1])),(t=n.match(/firefox\/([\d.]+)/))&&t.length>1&&(r.firefox=parseFloat(t[1])),(t=n.match(/chrome\/([\d.]+)/))&&t.length>1&&(r.chrome=parseFloat(t[1])),(t=n.match(/opera.([\d.]+)/))&&t.length>1&&(r.opera=parseFloat(t[1])),(t=n.match(/version\/([\d.]+).*safari/))&&t.length>1&&(r.safari=parseFloat(t[1])),(t=n.match(/crios\/([\d.]+).*safari/))&&t.length>1&&(r.chrome=parseFloat(t[1])),r),e}(),j=function(){function e(){}return e.md5=function(e){return""+n.Md5.hashStr(e)},e}(),H=function(){function e(){}return e.isCol=function(t){return e.reg.test(t)},e.flatTableCols=function(e){var t=this,n=[];return e.forEach((function(e){if(t.reg.test(e)){var r=e.match(t.reg);if(null==r?void 0:r.length){var o=r[0];JSON.parse(e.replace(t.reg,"")).forEach((function(e){n.push(""+o+e)}))}}else n.push(e)})),n},e.flatTableData=function(e){var t=this;return e.map((function(e){var n=[];return e.forEach((function(e){"string"==typeof e&&t.reg.test(e)?JSON.parse(e.replace(t.reg,"")).forEach((function(e){n.push(e)})):n.push(e)})),n}))},e.reg=/^\$\S+?:/,e}(),B=function(){function e(){}return e.localSave=function(e,t,n){window.localStorage.setItem(e+"-"+t,JSON.stringify(n))},e.localRead=function(e,t,n){void 0===n&&(n=null);var r=window.localStorage.getItem(e+"-"+t);return r&&JSON.parse(r)||n},e.localRemove=function(e,t){window.localStorage.removeItem(e+"-"+t)},e.localClear=function(){window.localStorage.clear()},e.sessionSave=function(e,t,n){window.sessionStorage.setItem(e+"-"+t,JSON.stringify(n))},e.sessionRead=function(e,t,n){void 0===n&&(n=null);var r=window.sessionStorage.getItem(e+"-"+t);return r&&JSON.parse(r)||n},e.sessionRemove=function(e,t){window.sessionStorage.removeItem(e+"-"+t)},e.sessionClear=function(){window.sessionStorage.clear()},e.cookieSave=function(e,t,n){v.default.set(e+"-"+t,JSON.stringify(n))},e.cookieRead=function(e,t,n){void 0===n&&(n=null);var r=v.default.get(e+"-"+t);return r&&JSON.parse(r)||n},e.cookieRemove=function(e,t){v.default.remove(e+"-"+t)},e}(),V=function(){function e(){}return e.removeSuffix=function(e){return"string"==typeof e?parseInt(e.replace(/(px)|(rem)/g,"")):e},e.getRootFontSize=function(){return e.removeSuffix(getComputedStyle(window.document.documentElement).fontSize)},e.remToPx=function(t){var n=e.getRootFontSize();return e.removeSuffix(t)*n},e.remToPxSuffix=function(t){return e.remToPx(t)+"rem"},e.pxToRem=function(t){var n=e.getRootFontSize();return e.removeSuffix(t)/n},e.pxToRemSuffix=function(t){return e.pxToRem(t)+"px"},e}(),z=function(e,t){return(z=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function K(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}z(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}function q(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s}function Y(e,t,n,r){return new(n||(n=Promise))((function(o,i){function s(e){try{u(r.next(e))}catch(e){i(e)}}function a(e){try{u(r.throw(e))}catch(e){i(e)}}function u(e){var t;e.done?o(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(s,a)}u((r=r.apply(e,t||[])).next())}))}function $(e,t){var n,r,o,i,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function a(i){return function(a){return function(i){if(n)throw new TypeError("Generator is already executing.");for(;s;)try{if(n=1,r&&(o=2&i[0]?r.return:i[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,i[1])).done)return o;switch(r=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return s.label++,{value:i[1],done:!1};case 5:s.label++,r=i[1],i=[0];continue;case 7:i=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){s=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){s.label=i[1];break}if(6===i[0]&&s.label<o[1]){s.label=o[1],o=i;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(i);break}o[2]&&s.ops.pop(),s.trys.pop();continue}i=t.call(e,s)}catch(e){i=[6,e],r=0}finally{n=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,a])}}}var J=function(){function e(){}return e.addModuleCss=function(t,n,r){var o=e.cssFiles.get(t);o||(o=new Map,e.cssFiles.set(t,o));for(var i=[],s=t+n+"/",a=0,u=r;a<u.length;a++){var c=u[a],l=o.get(c);l?o.set(c,l+1):(o.set(c,1),i.push(s+c))}return e.importCSS(i)},e.removeModuleCss=function(t,n){var r=e.cssFiles.get(t);if(r&&0!==n.length){for(var o=[],i=0,s=n;i<s.length;i++){var a=s[i],u=r.get(a);u&&(0===--u?(o.push({path:t,file:a}),r.delete(a)):r.set(a,u))}0===r.size&&e.cssFiles.delete(t),e.exportCss(o)}},e.importCSS=function(e){if(!e||0===e.length)return null;var t=document.getElementsByTagName("html");return t&&0!==t.length?new Promise((function(n,r){for(var o=e.length,i=0,s=0,a=0,u=e;a<u.length;a++){var c=u[a];if(c.toLowerCase().endsWith(".css")){var l=document.createElement("link");l.onload=function(){++i+s>=o&&(s>0?r(s):n(i))},l.onerror=function(){s++,i+s>=o&&r(s)},l.rel="stylesheet",l.type="text/css",l.href=c,t[0].appendChild(l)}}})):null},e.exportCss=function(e){if(0!==e.length){var t=document.getElementsByTagName("link");if(t&&0!==t.length){for(var n=window.location.origin.length,r=[],o=function(o,i){var s=t[o];if(s.type&&"text/css"===s.type.toLowerCase()){var a=s.href.substr(n),u=e.findIndex((function(e){return a.startsWith(e.path)}));if(-1===u)return"continue";var c=e[u],l=a.indexOf("/",c.path.length);if(-1===l)return"continue";a.substr(l+1)===c.file&&r.push(s)}},i=0,s=t.length;i<s;i++)o(i);for(var a=0,u=r;a<u.length;a++){var c=u[a],l=c.parentNode;l&&l.removeChild(c)}}}},e.changeTheme=function(t){if(0!==e.cssFiles.size){var n=document.getElementsByTagName("link");if(n&&0!==n.length)for(var r=window.location.origin.length,o=Array.from(e.cssFiles.keys()),i=function(e,i){var s=n[e];if(s.type&&"text/css"===s.type.toLowerCase()){var a=s.href.substr(r),u=o.findIndex((function(e){return a.startsWith(e)}));if(-1===u)return"continue";var c=o[u],l=a.indexOf("/",c.length);if(-1===l)return"continue";if(a.substring(c.length,l)===t)return"continue";s.href=c+t+a.substr(l)}},s=0,a=n.length;s<a;s++)i(s)}},e.addStyle=function(e,t,n){return void 0===n&&(n="default"),Y(this,void 0,void 0,(function(){return $(this,(function(r){return[2,fetch(t).then((function(e){return e.text()})).then((function(t){var r=document.createElement("style");r.setAttribute("type","text/css"),r.setAttribute("theme",n),r.setAttribute("id",e),r.appendChild(document.createTextNode(t)),document.head.append(r)}))]}))}))},e.getAssetUrl=function(e,t,n){void 0===n&&(n="default");var r=t.app,o=t.module;return"/"+[t.themesPath,r,o,n,e].filter((function(e){return!!e})).map((function(e){return e.replace(/^\/|\/$/g,"")})).join("/")},e.cssFiles=new Map,e.headStyles=[],e}(),X=function(){function e(){}return e.arrayToTree=function(e,t){var n=null!=t?t:{},r=n.key,o=void 0===r?"id":r,i=n.children,s=void 0===i?"children":i,a=n.parent,u=void 0===a?"pid":a;return e.reduce((function(t,n){var r,i=e.find((function(e){return e[o]===n[u]}));return i?(null===(r=i[s])||void 0===r?void 0:r.length)?i[s].push(n):i[s]=[n]:t.push(n),t}),[])},e}(),Z=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.cssImported=!1,t.getAssetUrl=J.getAssetUrl,t}return K(t,e),t.prototype.importCss=function(e,t,n,r){var o=this;if(void 0===r&&(r="default"),e&&t&&0!==t.length&&n){e.$once("hook:created",(function(){o.$nextTick().then((function(){if(!e.cssImported){var t=e.$vnode.elm;t&&t instanceof HTMLElement&&(t.style.visibility="hidden")}}))}));var i=n.themesPath;i||(i="/assets/themes/"),i.startsWith("/")||(i="/"+i),i.endsWith("/")||(i+="/"),r&&0!==r.length||(r="default");var s=i+n.app+"/"+n.module+"/";e.$once("hook:beforeDestroy",(function(){J.removeModuleCss(s,t)}));var a=J.addModuleCss(s,r,t);a?a.then((function(){e.showInterface(e)}),(function(){e.showInterface(e)})):e.$nextTick().then((function(){e.showInterface(e)}))}else e.cssImported=!0},t.prototype.showInterface=function(e){e.cssImported=!0;var t=e.$el;t&&t instanceof HTMLElement&&(t.style.visibility="visible"),this.$emit("cssImported")},t}(o.Vue),Q=function(e){function t(t){var n=e.call(this,t)||this;n.appId="app",n.version="1.0.0",n.lang="",n.langList=[],n.localeList=[],n.loginUsers=[],n.theme="default",n.themeList=[],n.homeSetting={sidebarStatus:1};var r="/";r||(r="/"),r.endsWith("/")||(r+="/");var o=B.localRead(n.appId,"settings",{});return o?(n.lang=o.lang||G.getDefaultLanguageKey(),n.theme=o.theme||"default",n.loginUsers=o.loginUsers||[],n):n}return K(t,e),t.prototype.setLang=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.UPDATE_SETTINGS({lang:e}),[2]}))}))},t.prototype.setLangList=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return console.warn("AxVuexApp.setLangList方法已弃用，请使用AxVuexApp.setLocaleList设置国际化"),this.UPDATE_SETTINGS({langList:e}),[2]}))}))},t.prototype.setLocaleList=function(e){return Y(this,void 0,void 0,(function(){var t,n,r=this;return $(this,(function(o){return t="",n=e.map((function(e){return e.defaulted&&(t=e.code||""),e.code})),!e.find((function(e){return r.lang===e.code}))&&e.length&&this.UPDATE_SETTINGS({lang:null!=t?t:e[0].code}),this.UPDATE_SETTINGS({langList:n}),this.UPDATE_SETTINGS({localeList:e}),[2]}))}))},t.prototype.setTheme=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.UPDATE_SETTINGS({theme:e}),[2]}))}))},t.prototype.setThemeList=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.UPDATE_SETTINGS({themeList:e}),[2]}))}))},t.prototype.setLoginUsers=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.UPDATE_SETTINGS({loginUsers:e}),[2]}))}))},t.prototype.setHomeSetting=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.UPDATE_SETTINGS({homeSetting:e}),[2]}))}))},t.prototype.UPDATE_SETTINGS=function(e){var t=this;Object.assign(this,e);var n={};Object.keys(this).forEach((function(e){var r=t[e];r&&"function"!=typeof r&&(n[e]=r)})),B.localSave(this.appId,f.SETTING,n)},q([i.Action],t.prototype,"setLang",null),q([i.Action],t.prototype,"setLangList",null),q([i.Action],t.prototype,"setLocaleList",null),q([i.Action],t.prototype,"setTheme",null),q([i.Action],t.prototype,"setThemeList",null),q([i.Action],t.prototype,"setLoginUsers",null),q([i.Action],t.prototype,"setHomeSetting",null),q([i.Mutation],t.prototype,"UPDATE_SETTINGS",null),t=q([i.Module({name:"app"})],t)}(i.VuexModule),ee=function(e){function t(t){var n=e.call(this,t)||this;n.appId="user",n.id="",n.account="",n.name="",n.image="",n.token="",n.isLogin=!1,n.isAdmin=!1,n.roles=new Map;var r=B.sessionRead(n.appId,l.SESSION);if(!r)return n;(n.id=r.id,n.account=r.account,n.name=r.name,n.image=r.image,n.token=r.token,n.isLogin=r.isLogin,n.isAdmin=r.isAdmin,n.roles.clear(),r.roles&&r.roles.length>0)&&r.roles.forEach((function(e){e&&e.app&&n.roles.set(e.app,e.ls)}));return n}return K(t,e),Object.defineProperty(t.prototype,"userData",{get:function(){return this.account&&0!==this.account.length?{id:this.id,account:this.account,name:this.name,image:this.image}:B.localRead(this.appId,f.LAST_LOGIN,null)},enumerable:!1,configurable:!0}),t.prototype.setLogin=function(e){return Y(this,void 0,void 0,(function(){return $(this,(function(t){return this.USER_LOGIN({id:e.id,account:e.account,name:e.name,image:e.image,token:e.token,isLogin:!!e.token&&e.token.length>0,isAdmin:e.admin,roles:e.roles}),[2]}))}))},t.prototype.setLogout=function(){return Y(this,void 0,void 0,(function(){return $(this,(function(e){return this.USER_LOGIN({id:this.id,account:this.account,name:this.name,image:this.image,token:"",isLogin:!1,isAdmin:!1,roles:null}),[2]}))}))},t.prototype.USER_LOGIN=function(e){var t=this;(this.id=e.id,this.account=e.account,this.name=e.name,this.image=e.image,this.token=e.token,this.isLogin=e.isLogin,this.isAdmin=e.isAdmin,this.roles.clear(),e.roles&&e.roles.length>0)&&e.roles.forEach((function(e){t.roles.set(e.app,e.ls)}));var n={id:this.id,account:this.account,name:this.name,image:this.image};B.localSave(this.appId,f.LAST_LOGIN,n);var r={id:this.id,account:this.account,name:this.name,image:this.image,token:this.token,isLogin:this.isLogin,isAdmin:this.isAdmin,roles:e.roles};B.sessionSave(this.appId,l.SESSION,r)},q([i.Action],t.prototype,"setLogin",null),q([i.Action],t.prototype,"setLogout",null),q([i.Mutation],t.prototype,"USER_LOGIN",null),t=q([i.Module({name:"user"})],t)}(i.VuexModule);S.default.use(y.default);var te=new y.default.Store({modules:{app:Q,user:ee}}),ne=i.getModule(Q,te),re=i.getModule(ee,te);e.AxBrowserUtils=G,e.AxConfig=w,e.AxConst=A,e.AxCore=D,e.AxDispatcher=N,e.AxDomUtils=F,e.AxEncryptionUtils=j,e.AxEvent=I,e.AxLanguage=k,e.AxLanguageUtils=H,e.AxLocale=P,e.AxMenu=U,e.AxRequest=W,e.AxStorageUtils=B,e.AxStringUtils=O,e.AxStyleUtils=V,e.AxThemesUtils=J,e.AxTransformUtils=X,e.AxTypes=C,e.AxVueBase=Z,e.AxVuexApp=ne,e.AxVuexUser=re,e.AxWebsocket=M,Object.defineProperty(e,"__esModule",{value:!0})}));
